<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Magic Mirror</title>
    <script src="https://unpkg.com/htmx.org@2.0.3"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script>
      // Configure Tailwind for dark mode
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {}
        }
      }
      
      // Check for dark mode preference
      if (window.matchMedia('(prefers-color-scheme: dark)').matches || localStorage.getItem('darkMode') === 'true') {
        document.documentElement.classList.add('dark');
      }

      // Function to toggle dark mode
      function toggleDarkMode() {
        if (document.documentElement.classList.contains('dark')) {
          document.documentElement.classList.remove('dark');
          localStorage.setItem('darkMode', 'false');
        } else {
          document.documentElement.classList.add('dark');
          localStorage.setItem('darkMode', 'true');
        }
      }
    </script>
    <style>
      /* Mirror mode - inverts colors for use on a mirror */
      .mirror-mode {
        filter: invert(1);
      }
    </style>
  </head>
  <body class="font-sans antialiased bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">
    <div class="max-w-3xl mx-auto p-6">
      <div class="absolute top-2 right-2 flex gap-2">
        <!-- Dark mode toggle -->
        <button onclick="toggleDarkMode()" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700">
          <i class="fas fa-moon dark:hidden"></i>
          <i class="fas fa-sun hidden dark:block"></i>
        </button>
        
        <!-- Mirror mode toggle -->
        <button onclick="document.body.classList.toggle('mirror-mode')" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700">
          <i class="fas fa-adjust"></i>
        </button>
      </div>
      
      {% block content %}{% endblock %}
    </div>
  </body>
</html>