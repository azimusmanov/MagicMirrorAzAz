<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Magic Mirror</title>
    
    <!-- External libraries -->
    <script src="https://unpkg.com/htmx.org@2.0.3"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/dark-mode.css">
    
    <!-- Dark mode script needs to run early to prevent flash -->
    <script src="/static/js/dark-mode.js"></script>
  </head>
  <body class="font-sans antialiased bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">
    <div class="max-w-3xl mx-auto p-6">
      <div class="absolute top-2 right-2 flex gap-2">
        <!-- Dark mode toggle -->
        <button onclick="toggleDarkMode()" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 mode-toggle">
          <i class="fas fa-moon dark:hidden"></i>
          <i class="fas fa-sun hidden dark:block"></i>
        </button>
        
        <!-- Mirror mode toggle -->
        <button onclick="toggleMirrorMode()" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 mode-toggle">
          <i class="fas fa-adjust"></i>
        </button>
      </div>
      
      {% block content %}{% endblock %}
    </div>
    
    <!-- Custom JS - load at end of body -->
    <script src="/static/js/clock.js"></script>
    <script src="/static/js/widgets.js"></script>
  </body>
</html>