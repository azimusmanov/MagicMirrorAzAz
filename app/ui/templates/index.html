{% extends "base.html" %}
{% block content %}
  <h1 class="text-3xl font-semibold mb-2">Dashboard</h1>
  <p class="text-sm text-gray-600 dark:text-gray-400 mb-6">Profile: <span id="who">Loadingâ€¦</span></p>

  <!-- clock widget -->
  <div class="widget-card mb-6">
    <div class="flex flex-col items-center">
      <div id="clock" class="clock-display">00:00 AM</div>
      <div id="date" class="date-display dark:text-gray-400">Loading date...</div>
    </div>
  </div>

  <!-- Grid layout for widgets -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Weather widget -->
    <div class="widget-card">
      <h2 class="text-xl font-medium mb-3">Weather</h2>
      <div id="weather-container" hx-get="/weather/partial" hx-trigger="load, refreshWeather from:body" hx-swap="innerHTML"></div>
    </div>

    <!-- Quote widget -->
    <div class="widget-card">
      <h2 class="text-xl font-medium mb-3">Daily Inspiration</h2>
      <div id="quote-container" hx-get="/quotes/partial" hx-trigger="load, refreshQuote from:body" hx-swap="innerHTML"></div>
    </div>
  </div>

  <!-- Full-width widgets -->
  <div class="widget-card mt-6">
    <h2 class="text-xl font-medium mb-3">ToDo</h2>

    <form class="flex gap-2 mb-4"
          hx-post="/todo"
          hx-target="#todo-list"
          hx-swap="outerHTML">
      <input type="text" name="title" placeholder="New task..." required
       class="flex-1 task-input
              bg-white dark:bg-gray-800 
              border-gray-300 dark:border-gray-500 
              text-gray-900 dark:text-gray-100
              placeholder-gray-500 dark:placeholder-gray-400
              focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/>
      <button type="submit" class="action-button bg-black dark:bg-gray-600 text-white">Add</button>
    </form>

    <div id="todo-list"
         hx-get="/todo/partial"
         hx-trigger="load"></div>
  </div>

  <div class="widget-card mt-6">
    <h2 class="text-xl font-medium mb-3">News Headlines</h2>
    <div id="news-container" hx-get="/news/partial" hx-trigger="load, refreshNews from:body" hx-swap="innerHTML"></div>
  </div>
{% endblock %}